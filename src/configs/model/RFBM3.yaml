# embedding_size: 64
# feat_embed_dim: 64

# n_layers: [1, 2]
# dropout: [0.3, 0.5]
# reg_weight: [0.1, 0.01]
# cl_weight: 2.0

# use_neg_sampling: False
# hyper_parameters: ["n_layers", "reg_weight", "dropout", "rf_loss_weight", "rf_learning_rate"]


# baby
embedding_size: 64
feat_embed_dim: 64

n_layers: 2 # [1, 2]
dropout: 0.5 # [0.3, 0.5]
reg_weight: 0.1 # [0.1, 0.01]
cl_weight: 2.0

use_neg_sampling: False

# RF enhancement parameters (consistent with RFGUME)
knn_k: 10
mm_image_weight: 0.1
# 协同信号增强损失（integration vs extended_id_aug 的 InfoNCE）
gen_cl_loss: 0.01            # 协同信号增强损失权重
bm_temp: 0.2                 # InfoNCE 温度
# ===== Rectified Flow Parameters =====
use_rf: True                # Enable RF (set False for ablation)

# RF Network Architecture
rf_hidden_dim: 128          # 隐藏层维度
rf_n_layers: 2              # 网络层数
rf_dropout: 0.1             # Dropout率 0.5

# RF Training
# rf_learning_rate:  [0.001, 0.002, 0.0001, 0.00001]
rf_learning_rate: 0.0001     # RF模块独立学习率
rf_sampling_steps: 10 # 10        # ODE采样步数
rf_loss_weight: 0.001 # [0.01, 0.001, 0.0001]         # 对比损失的权重系数
rf_weight: 0.1 # 跨模态对齐损失权重  

# User Interest Guidance (Prior Knowledge)
use_user_guidance: True      # 启用用户先验知识指导
user_guidance_scale: 0.2     # alpha_1: 用户先验的缩放因子
guidance_decay_power: 2.0    # lambda_1(t) = (1-t)^power 的指数（时间衰减）

# Cosine Similarity Gradient Guidance
use_cosine_guidance: True    # 启用余弦相似度梯度指导
cosine_guidance_scale: 0.1   # alpha_2: 余弦梯度的缩放因子
cosine_decay_power: 2.0      # lambda_2(t) = (1-t)^power 的指数（时间衰减）

# RF Warmup - 渐进式启用RF
rf_warmup_epochs: 20         # 前N个epoch不启用RF，让GUME预热

# RF 混合策略
rf_mix_ratio: 0
rf_inference_mix_ratio: 0.05

# 2-RF (Reflow) parameters
use_2rf: False                   # Enable 2-Rectified Flow
rf_2rf_transition_epoch: 20      # Start 2-RF at epoch 20 (default: warmup_epochs + 5)

# Causal denoising parameters (IPW-based)
use_denoise: True
clean_rating_threshold: 5.0
denoise_layers: 2
ps_loss_weight: 0.1